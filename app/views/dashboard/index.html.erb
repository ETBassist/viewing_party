<section class="friends">
  <div class="bg-white shadow">
    <div class="max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold leading-tight text-gray-700">
        Friends
      </h2>
    </div>
  </div>

  <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="px-4 py-2 sm:px-0">

      <%= form_tag '/friendships', class: "space-y-6" do %>
        <div class="rounded-md shadow-sm -space-y-px">
          <%= text_field_tag :friend_email, nil, placeholder: "Friend's email", class: "appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm" %>
        </div>

        <div>
          <%= submit_tag 'Add Friend', class: "relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500" %>
        </div>
      <% end %>

      <div class="mt-8 border-4 border-green-400 rounded-lg h-40">
        <p class="flex justify-center font-bold text-xl text-green-600">Friends:</p>
          <div class="current_friends flex items-center justify-around">
            <% if @user.friends.empty? %>
              <p class="font-medium text-sm text-green-600">You currently have no friends</p>
            <% else %>
              <% @user.friends.each do |friend| %>
                <p class="font-medium text-sm text-green-600"><%= friend.name %></p>
              <% end %>
            <%end%>
          </div>
      </div>
    </div>
  </div>
</section>

<section class="viewing-parties">
  <div class="bg-white shadow">
    <div class="max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold leading-tight text-gray-700">
        Viewing Parties
      </h2>
    </div>
  </div>

  <section class="bg-white text-gray-900">
    <div class="flex flex-col items-center flex-wrap justify-between mx-auto p-8 md:flex-row lg:w-5/6 xl:3/4">
      <% @user.parties.each do |party| %>
        <div class="md:w-1/2 xl:w-1/3 py-4 md:px-8">
          <div class="flex w-full flex-col justify-center p-8 items-center border text-gray-900 rounded-xl shadow-sm bg-gray-100">
            <h1 class="text-3xl font-bold text-green-500">
              <%= party.movie_title %>
            </h1>
            <div class="flex w-full justify-around items-center py-4 text-gray-700 text-sm font-medium">
              <% if party.host_id == @user.id %>
                <p>Hosting</p>
              <% else %>
                <p>Invited</p>
              <% end %>

              <p>Date: <%= party.date %></p>

              <p>Time: <%= party.time %></p>
            </div>
            <%= button_to "View Party", viewing_party_path(party.id), method: :get, class: "self-center px-2 py-1 rounded-md text-white bg-green-500" %>
          </div>
        </div>
      <% end %>
    </div>
  </section>
</section>
